(()=>{"use strict";const e={rcTest:{name:"Тест",phone:"+7 926 367-53-26",email:"trofian@yandex.ru"},rcMow:{name:"РЦ ЕС ОрВД Москва",phone:"+7 (495) 436-75-57, +7 (495) 662-80-55, +7 (916) 043-36-37",email:"nsmzc@atcm.ru"},rcRov:{name:"РЦ ЕС ОрВД Ростов-на-Дону",phone:"+7 (863) 272-32-87, +7 (863) 272-37-98",email:"dcpk@yug.gkovd.ru"},rcSip:{name:"РЦ ЕС ОрВД Симферополь",phone:"+7 (978) 922-80-29, +7 (365) 260-52-82",email:"cpksmf@crimeaovd.ru"},rcKuf:{name:"РЦ ЕС ОрВД Самара",phone:"+7 (846) 279-18-26",email:"zc_samara@mail.ru, smena.cpivp@cv.gkovd.ru"},rcSvx:{name:"РЦ ЕС ОрВД Екатеринбург",phone:"+7 (343) 205-80-69, +7 (343) 205-80-70",email:"zc@ur.gkovd.ru"},rcTmj:{name:"РЦ ЕС ОрВД Тюмень",phone:"+7 (345) 229-38-84, +7 (345) 229-38-44",email:"plan@rgc.ans.aero"},rcOvb:{name:"РЦ ЕС ОрВД Новосибирск",phone:"+7 (383) 319-14-05",email:"nzc@zsa.ru"},rcKja:{name:"РЦ ЕС ОрВД Красноярск",phone:"+7 (391) 252-61-13",email:"plan@kr.cs.gkovd.ru"},rcIkt:{name:"РЦ ЕС ОрВД Иркутск",phone:"+7 (395) 252-29-19",email:"pvd@vs.gkovd.ru"},rcYks:{name:"РЦ ЕС ОрВД Якутск",phone:"+7 (411) 244-31-27",email:"sppi@svs.gkovd.ru"},rcGdx:{name:"РЦ ЕС ОрВД Магадан",phone:"+7 (413) 260-56-03",email:"pivp@sv.gkovd.ru"},rcKhv:{name:"РЦ ЕС ОрВД Хабаровск",phone:"+7 (421) 241-86-18",email:"sppi@dv.gkovd.ru"},gcMow:{name:"ГЦ ЕС ОрВД Москва",phone:"+7 (499) 157-02-01, +7 (499) 155-36-59, +7 (985) 929-03-87",email:"regimivp@matfmc.ru"},zcLed:{name:"ЗЦ ЕС ОрВД Санкт-Петербург",phone:"+7 (812) 305-17-97, +7 (812) 704-11-05, +7 (921) 342-02-88",email:"spbzc@sz.gkovd.ru, spbzc.rgm@sz.gkovd.ru"}};let n="",r="";function t(){let r=n.options[n.selectedIndex],t=e[r.value],c=document.querySelector("#phone"),l=document.querySelector("#email"),i=o(t.phone),u=o(t.email);c.innerHTML=a(i,"tel:"),l.innerHTML=a(u,"mailto:")}function o(e){let n=",",r=[],t=0;if(e.includes(n))for(;e.includes(n);)r[t]=e.slice(0,e.indexOf(n)),e=e.slice(e.indexOf(n)+2),t++;return r[t]=e,r}function a(e,n){let r="";return e.forEach((e=>r+=`<a href="${n}${e}">${e}</a>`)),r}function c(){let e=document.querySelector("#final-fpl"),n=`-${l("#aircraft-id")}`,t=`-${l("#flight-rules")}${l("#type-of-flight")}%0d%0a `,o=`-${l("#aircraft-type")}/${l("#wake-turbulence-cat")}`,a=`-${l("#equipment")}%0d%0a `,c=`-${l("#departure-aerodrome")}${i("#departure-time",0)}%0d%0a `,u=`-${l("#cruising-speed")}${l("#flight-level")} ${l("#route")}%0d%0a `,d=`-${l("#destination-aerodrome")}${i("#total-eet",0)} ${l("#altn-aerodrome")} ${l("#second-altn-aerodrome")}%0d%0a `,m=`-DOF/${i("#dof",2)} OPR/${l("#opr")} ${l("#other-information")} RMK/TEL ${l("#tel")}`;r="(FPL"+n+t+o+a+c+u+d+m+")",e.innerHTML=r.replace(/%0d%0a/g,"<br>")}function l(e){return document.querySelector(e)?document.querySelector(e).value:""}function i(e,n){let r=document.querySelector(e).value;return r=r.slice(n),r=r.replace(/\D/g,""),r}function u(){if(function(){let e=!0,n=document.querySelectorAll("#fpl input"),r=document.querySelectorAll("#fpl textarea");return n.forEach((n=>{n.required&&""==n.value&&(console.log("Заполните: ",n.id),e&=!1)})),r.forEach((n=>{n.required&&""==n.innerHTML&&(console.log("Заполните: ",n.id),e&=!1)})),e}()){let e=document.querySelectorAll("#email a"),n="",t="",o="";n=e[0].innerHTML;for(let n=1;n<e.length;n++)t+=`${e[n].innerHTML},`;o=`mailto:${n}?subject=${l("#aircraft-id")} -DOF/${i("#dof",2)}&cc=${t}&body=${r}`,document.location=o,console.log(r.replace(/%0d%0a/g,"\r\n"))}}document.addEventListener("DOMContentLoaded",(function(){n=document.querySelector("#atc-untits");for(let r in e)n.innerHTML+=`<option value=${r}>${e[r].name}</opion>`;t()}(),c(),void function(){let e=document.querySelector("#fpl"),r=e.querySelectorAll("input"),o=e.querySelectorAll("select"),a=e.querySelectorAll("textarea"),l=document.querySelector("#send-button");n.addEventListener("change",t),r.forEach((e=>e.addEventListener("input",c))),o.forEach((e=>e.addEventListener("input",c))),a.forEach((e=>e.addEventListener("input",c))),l.addEventListener("click",u)}()))})();